Vagrant.configure("2") do |config|
  config.vm.define "controller" do |controller|
    controller.vm.box = "ceph/ubuntu-xenial"
    controller.vm.hostname = 'controller'
    controller.vm.box_url = "ceph/ubuntu-xenial"
    controller.vm.network :private_network, ip: "192.168.56.101"
    controller.vm.network :private_network, ip: "192.168.57.101"
    controller.vm.provision "ansible" do |ansible|
      ansible.playbook = "controller.yml"
      ansible.skip_tags = "maas_user,maas_server,apache,apt_dist_upgrade"
#      ansible.tags = "oscontrol"
    end
  end
  config.vm.define "compute1" do |compute1|
    compute1.vm.box = "ceph/ubuntu-xenial"
    compute1.vm.hostname = 'compute1'
    compute1.vm.box_url = "ceph/ubuntu-xenial"
    compute1.vm.network :private_network, ip: "192.168.56.102"
    compute1.vm.network :private_network, ip: "192.168.57.102"
#    compute1.vm.provision "ansible" do |ansible|
#      ansible.playbook = "compute1.yml"
#    end
   end
end
